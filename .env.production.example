# Divan Production Environment Configuration
#
# Copy this file to .env and fill in the values.
# NEVER commit .env to version control!
#
# Generate secrets with: openssl rand -hex 32

# =============================================================================
# Domain Configuration
# =============================================================================
DOMAIN=divan.app

# =============================================================================
# Database (PostgreSQL)
# =============================================================================
POSTGRES_DB=divan
POSTGRES_USER=divan
POSTGRES_PASSWORD=CHANGE_ME_USE_STRONG_PASSWORD

# =============================================================================
# Cache (Redis)
# =============================================================================
REDIS_PASSWORD=CHANGE_ME_USE_STRONG_PASSWORD

# =============================================================================
# Security Secrets (REQUIRED - generate with: openssl rand -hex 32)
# =============================================================================
# Main application secret for JWT signing, encryption, etc.
SECRET_KEY=CHANGE_ME_GENERATE_WITH_OPENSSL

# Inter-service communication signing
SERVICE_SIGNING_KEY=CHANGE_ME_GENERATE_WITH_OPENSSL

# Refresh token hashing pepper
REFRESH_PEPPER=CHANGE_ME_GENERATE_WITH_OPENSSL

# Admin token for observability endpoints (/metrics, /health/*)
OBS_ADMIN_TOKEN=CHANGE_ME_GENERATE_WITH_OPENSSL

# =============================================================================
# Email (SMTP)
# =============================================================================
# Examples:
#   SendGrid: smtp.sendgrid.net:587
#   AWS SES:  email-smtp.us-east-1.amazonaws.com:587
#   Postmark: smtp.postmarkapp.com:587
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASSWORD=CHANGE_ME_YOUR_SMTP_API_KEY
SMTP_FROM_EMAIL=noreply@divan.app

# =============================================================================
# Object Storage (S3 or compatible)
# =============================================================================
# For user uploads (profile photos, attachments)
S3_BUCKET_NAME=divan-uploads
S3_REGION=us-east-1
S3_ACCESS_KEY=CHANGE_ME
S3_SECRET_KEY=CHANGE_ME

# For backups (separate bucket recommended)
S3_BACKUP_BUCKET=divan-backups

# =============================================================================
# Cookie Configuration
# =============================================================================
COOKIE_DOMAIN=.divan.app

# =============================================================================
# Performance
# =============================================================================
# Number of backend workers (rule of thumb: 2 * CPU cores + 1)
BACKEND_WORKERS=4

# =============================================================================
# Monitoring & Alerting (Optional)
# =============================================================================
# Sentry DSN for error tracking
SENTRY_DSN=

# Slack webhook for backup notifications
SLACK_WEBHOOK_URL=

# =============================================================================
# Third-party Services (Optional)
# =============================================================================
# Add any additional API keys here
