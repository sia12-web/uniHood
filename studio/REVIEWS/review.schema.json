{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "Review Decision Schema",
    "type": "object",
    "properties": {
        "status": {
            "enum": [
                "approved",
                "approved_with_conditions",
                "changes_requested",
                "blocked"
            ]
        },
        "checklist": {
            "type": "object",
            "properties": {
                "correctness": {
                    "type": "boolean"
                },
                "security": {
                    "type": "boolean"
                },
                "performance": {
                    "type": "boolean"
                },
                "api_consistency": {
                    "type": "boolean"
                },
                "test_coverage": {
                    "type": "boolean"
                },
                "observability": {
                    "type": "boolean"
                },
                "migrations": {
                    "type": "boolean"
                },
                "ux": {
                    "type": "boolean"
                }
            }
        },
        "required_fixes": {
            "type": "array",
            "items": {
                "type": "string"
            }
        },
        "diff_risk_notes": {
            "type": "array",
            "items": {
                "type": "string"
            }
        }
    },
    "required": [
        "status",
        "checklist"
    ]
}