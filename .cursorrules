# Workspace Rules for Divan Project

## ğŸŒ³ Branch Management
- **Production Branch**: `main`
  - ğŸ›‘ NEVER push directly to `main` without testing.
  - ğŸ”’ `main` is for deployed, production-ready code only.
- **Development Branch**: `dev-01`
  - ğŸ› ï¸ All active development happens here.
  - ğŸ”€ Merge `dev-01` into `main` only when ready for release.
- **Feature Branches**: Create off `dev-01` (e.g., `feat/my-feature`), merge back to `dev-01`.

## ğŸš€ Workflow Protocols
- **Always** run linting/type-checking before committing.
- **Always** check `git status` before pushing to ensure you are on the correct branch.
- **Use Workflows**: Use defined workflows (e.g. `/deploy-dev`) for complex tasks.

## âš–ï¸ Environment Differences (Dev vs Prod)
| Feature | Development (`dev-01`) | Production (`main`) |
| :--- | :--- | :--- |
| **Env File** | `.env.development` (Local/Staging) | `.env.production` (Live) |
| **Database** | Local Postgres / Staging DB | **Production DB** (âš ï¸ STRICT READ-ONLY) |
| **Logging** | Verbose / Debug mode enabled | Minimal / Error-only |
| **Data** | Mock data / Seeds allowed | **Real User Data** (âš ï¸ NO DELETIONS) |
| **Performance** | Hot-reloading enabled | Minified & Optimized builds |

## ï¿½ Consistency & Standards
- **Naming Conventions**:
  - **Frontend (TS/TSX)**: `camelCase` for vars/functions, `PascalCase` for Components (`UserProfile.tsx`), `kebab-case` for CSS classes.
  - **Backend (Python)**: `snake_case` for vars/functions, `PascalCase` for Classes (`UserProfile`), `UPPER_CASE` for constants.
  - **Files**: Match the language standard (e.g., `user_profile.py` vs `UserProfile.tsx`).
- **Structure**:
  - Keep related files together (Colocation).
  - Use `index.ts` only for public API exports from a module (Barrel files).
- **Formatting**:
  - Prettier (Frontend) and Black/Ruff (Backend) configuration MUST be respected.

## ï¿½ğŸ› ï¸ Tech Stack Constraints
- **Frontend**: Next.js 14+ (App Router), TypeScript, Tailwind CSS, Shadcn/UI, Lucide React.
  - âŒ No new CSS frameworks (Bootstrap, Material UI).
  - âŒ No Class Components (Functional with Hooks only).
- **Backend**: Python 3.12, FastAPI, Pydantic v2, PostgreSQL (asyncpg), Redis.
  - âŒ No Django/Flask unless explicitly asked.
  - âŒ No ORM bloat; keep queries efficient.

## ğŸ“ Coding Standards
- **TypeScript**: Strict mode. Avoid `any`. Use interfaces/types for all props.
- **Python**: Type hints are mandatory. Use Pydantic models for validation.
- **Commits**: Follow Conventional Commits (e.g., `feat: add login`, `fix: header alignment`).
- **Icons**: Use `lucide-react` exclusively.

## ğŸ“‚ Project Structure
- `frontend/app`: App Router pages.
- `frontend/components/ui`: Reusable atomic components (buttons, inputs).
- `frontend/components`: Feature-specific components.
- `backend/app/api`: API route endpoints.
- `backend/app/domain`: Core business logic and schemas.
